<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Search</title>
    <link rel="stylesheet" href="css/styles.css">
    <script type="text/javascript" src="/eel.js"></script>
</head>
<body>
    <div class="mainparent">
        <div class="sidebar">
            <div class="logo">
                <img src="img/logo.svg" alt="Sidebar Logo" height="80px" width="80px" style="padding-top: 30px"/>
            </div>
            <ul class="menu">
                <!-- <li><a><img src="search.svg"/>Search</a></li>
                <li><a><img src="settings.svg">Settings</button></a></li> -->
                <!-- <li><button class="menu-button" id="showSearch" onclick="goToSearchWindow()"><img src="search.svg" alt="Search"> Search</button></li> -->
                <li><button class="menu-button" id="showSearch" onclick="buttonClicked()"><img src="img/search.svg" alt="Search"> Search</button></li>
                <li><button class="menu-button" id="showSettings" onclick=""><img src="img/settings.svg" alt="Settings"> Settings</button></li>
            </ul>
        </div>
        <div class="container">
            <!-- Top Navigation Bar -->
            <div class="top-nav">
                <div class="logo-container", id="logo-container">
                    <img src="img/logo.svg" alt="My Image" height="120px" width="120px"/>
                    <h2 style="color: darkslategray;">Find your Files</h2>
                </div>
                <div class="searchbar", id = "searchbar">
                    <input type="text" class="searchInput" id ="searchfield" placeholder="Ask Anything...">
                    <!-- <button class="clear-button" onclick="deleteText()">Submit</button> -->
                    <button id="sendbutton" class="image-button" disabled><img src="img/send.svg" width="50px"/></button>
                </div>
            </div>
        </div> 
        <div id="myPopup" class="popup">
        <div class="popup-content"> 
            <div class="settings-parent">
                <a href="#" id="overlay" class="overlay"></a>
                <button id="closePopup" class="close-button"><img src="img/x.svg"/></button>
                <div class="settings-header">Settings</div>
                <div class="settings-container">
                    <div class="settings-tab-header">
                        <div class="settings-tab-header-group-items">
                            <!-- <div class="settings-tab-header-item" id = 'General'><button id = 'General'><img src="img/settings.svg">General</button></div>
                            <div class="settings-tab-header-item" id = 'Data'><button id = 'Data'><img src="img/data.svg">Data</button></div> -->
                            <div class="settings-tab-header-item" id = 'General'><img src="img/settings.svg">General</div>
                            <div class="settings-tab-header-item" id = 'Data'><img src="img/data.svg">Data</div>
                        </div>
                    </div>
                    <div class="settings-tab-content-container">
                        <div id='tab1' class="settings-tab-content-container-item">Test1</div>
                        <div id='tab2' class="settings-tab-content-container-item">Test2</div>
                    </div>
                        <!-- <div>test setting</div>
                        <button id="select_path">Select Path</button>
                        <button id = "selectpath" onclick="">Select Path</button> -->
                    
                </div>
            </div>
        </div>
    </div>
    </div>
<!-- 
    <script type="text/javascript" src="../main.js"></script>
    <script type="text/javascript" src="web/backend/script.js"></script> -->
    <script src="/backend/script.js"></script>
    <!-- <script src="/main.js"></script> -->
    <!-- <script src="/backend/renderer.js"></script> -->
<!-- 
    <script>
        // Define a JavaScript function that calls the exposed Python function
        function buttonClicked() {
            console.log("button clicked js")
            eel.button_click();
        }

        document.addEventListener('DOMContentLoaded', function() {
        var textField = document.getElementById('searchfield'); 
        var sendbutton = document.getElementById('sendbutton');
        var buttonImage = sendbutton.querySelector('img');
        var showSettings = document.getElementById('showSettings')
        var showSearch = document.getElementById('showSearch')
        const settingsPopup = document.getElementById('myPopup');
        const closeSettings = document.getElementById('closePopup');

    //   // var popup = document.getElementById('popup');
    // if (!settingsPopup.contains(event.target)) {
    //     // Clicked outside the popup, close it
    //     settingsPopup.style.display = 'none';
    // }

        var clickableDivs = document.querySelectorAll('.settings-tab-header-item');

        clickableDivs.forEach(function (div) {
        div.addEventListener('click', function() {
            // Remove 'selected' class from all elements
            clickableDivs.forEach(function (otherDiv) {
                otherDiv.classList.remove('selected');
            });

            // Add 'selected' class to the clicked element
            this.classList.add('selected');
            });
        });

        closeSettings.addEventListener('click', function () {
        settingsPopup.classList.remove('show');
        });

        showSettings.addEventListener('click', () => {
        console.log("showSearch button pressed")
        myPopup.classList.add('show');
        })

        sendbutton.addEventListener('click', () => {
            
            // mainWindow.ipcRender.send('message:showSettings');
            console.log("entered listener")
            fetch(`http://127.0.0.1:49002/search/${textField.value}`).then((data)=>{      
                return data.text();
            }).then((text)=>{
            console.log("data: ", text);
            }).catch(e=>{
            console.log(e);
            })
            console.log('clicked searchSettings');
        });

        textField.addEventListener('input', function() {
            if (textField.value !== '' && textField.value !== textField.placeholder) {
                buttonImage.style.display = 'inline'
                sendbutton.removeAttribute('disabled')
                // sendbutton.style.visibility = 'visible'
                console.log('Event listener activated: Text field is not empty');
            } else {
                buttonImage.style.display = 'none'
                sendbutton.disabled = true;

                // sendbutton.style.visibility = 'hidden'
                // button.setAttribute('disabled', 'disabled');
                console.log('Event listener activated: Text field is empty');
                }
            });
    }); -->

    </script>
</body> 
</html>
